import '../types/types.dart';
import 'global_helper.dart';
import 'dart:convert';

const Map<ETextID, String> textMap = {
  ETextID.title01: "title01.json",
  ETextID.title02: "title02.json",
  ETextID.title03: "title03.json",
  ETextID.title04: "title04.json",
  ETextID.title05: "title05.json",
  ETextID.title06: "title06.json",
  ETextID.title07: "title07.json",
  ETextID.title08: "title08.json",
  ETextID.title09: "title09.json",
  ETextID.title10: "title10.json",
  ETextID.title11: "title11.json",
  ETextID.title12: "title12.json",
  ETextID.title13: "title13.json",
  ETextID.title14: "title14.json",
  ETextID.title15: "title15.json",
  ETextID.title16: "title16.json",
  ETextID.title17: "title17.json",
  ETextID.title18: "title18.json",
  ETextID.title19: "title19.json",
  ETextID.title20: "title20.json",
  ETextID.title21: "title21.json",
  ETextID.title22: "title22.json",
  ETextID.title23: "title23.json",
  ETextID.title24: "title24.json",
  ETextID.title25: "title25.json",
  ETextID.title26: "title26.json",
  ETextID.title27: "title27.json",
  ETextID.title28: "title28.json",
  ETextID.title29: "title29.json",
  ETextID.title30: "title30.json",
  ETextID.title31: "title31.json",
  ETextID.title32: "title32.json",
  ETextID.title33: "title33.json",
  ETextID.title34: "title34.json",
  ETextID.title35: "title35.json",
  ETextID.title36: "title36.json",
  ETextID.title37: "title37.json",
  ETextID.title38: "title38.json",
  ETextID.title39: "title39.json",
  ETextID.title40: "title40.json",
  ETextID.title41: "title41.json",
  ETextID.title42: "title42.json",
  ETextID.title43: "title43.json",
  ETextID.title44: "title44.json",
  ETextID.title45: "title45.json",
  ETextID.title46: "title46.json",
  ETextID.title47: "title47.json",
  ETextID.title48: "title48.json",
  ETextID.title49: "title49.json",
  ETextID.title50: "title50.json",
  ETextID.title51: "title51.json",
  ETextID.title52: "title52.json",
  ETextID.title53: "title53.json",
  ETextID.title54: "title54.json",
  ETextID.title55: "title55.json",
  ETextID.title56: "title56.json",
  ETextID.title57: "title57.json",
  ETextID.title58: "title58.json",
  ETextID.title59: "title59.json",
  ETextID.title60: "title60.json",
  ETextID.title61: "title61.json",
  ETextID.title62: "title62.json",
  ETextID.title63: "title63.json",
  ETextID.title64: "title64.json",
  ETextID.title65: "title65.json",
  ETextID.title66: "title66.json",
  ETextID.title67: "title67.json",
  ETextID.title68: "title68.json",
  ETextID.title69: "title69.json",
  ETextID.title70: "title70.json",
  ETextID.title71: "title71.json",
  ETextID.title72: "title72.json",
  ETextID.title73: "title73.json",
  ETextID.title74: "title74.json",
  ETextID.title75: "title75.json",
  ETextID.title76: "title76.json",
  ETextID.title77: "title77.json",
  ETextID.title78: "title78.json",
  ETextID.title79: "title79.json",
  ETextID.title80: "title80.json",
  ETextID.title81: "title81.json",
  ETextID.title82: "title82.json",
  ETextID.title83: "title83.json",
  ETextID.title84: "title84.json",
  ETextID.title85: "title85.json",
  ETextID.title86: "title86.json",
  ETextID.title87: "title87.json",
  ETextID.title88: "title88.json",
  ETextID.title89: "title89.json",
  ETextID.title90: "title90.json",
  ETextID.title91: "title91.json",
  ETextID.title92: "title92.json",
  ETextID.title93: "title93.json",
  ETextID.title94: "title94.json",
  ETextID.title95: "title95.json",
  ETextID.title96: "title96.json",
  ETextID.title97: "title97.json",
  ETextID.title98: "title98.json",
  ETextID.title99: "title99.json",
  ETextID.title100: "title100.json",
  ETextID.title101: "title101.json",
  ETextID.title102: "title102.json",
  ETextID.title103: "title103.json",
  ETextID.title104: "title104.json",
  ETextID.title105: "title105.json",
  ETextID.title106: "title106.json",
  ETextID.title107: "title107.json",
  ETextID.title108: "title108.json",
  ETextID.title109: "title109.json",
  ETextID.title110: "title110.json",
  ETextID.title111: "title111.json",
  ETextID.title112: "title112.json",
  ETextID.title113: "title113.json",
  ETextID.title114: "title114.json",
  ETextID.title115: "title115.json",
};

Future<TextData?> loadTextData(ETextID id) async {
  if (!textMap.containsKey(id)) return null;

  final Map<String, dynamic> loadedMap =
      jsonDecode(await loadResourceString("title/${textMap[id]}"));

  final ETextType type = ETextType.Title;
  final String filename = loadedMap["filename"];
  final List<String> fontFamily = List<String>.from(loadedMap["fontFamily"]);
  final List<String> fontFileName = List<String>.from(loadedMap["fontFileName"]);

  final String json = await loadResourceString("raw/lottie-jsons/$filename");

  List<String> fontBase64 = [];
  for (int i = 0; i < fontFileName.length; i++) {
    fontBase64.add(await loadResourceBase64("raw/fonts/${fontFileName[i]}"));
  }

  return TextData(type, json, fontFamily, fontBase64);
}
